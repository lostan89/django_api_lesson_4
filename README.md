В данном репозитории представлено несколько программ

# fetch_spacex_last_launch

# get_nasa_image

# one_photo_post

# posting_bot

### Как установить

Python3.9 должен быть уже установлен. 

Затем используйте `pip` (или `pip3`, есть конфликт с Python2) для установки зависимостей:
```
pip install -r requirements.txt
 ```
Для работы программ потребуются токены. 

Лучшим безопасным вариантом будет сохранить токен в переменную окружения - создайте файл .env в папке проекта.

Пример содержания файла .env:
```
NASA_API_KEY = 'ваш токен'
TG_TOKEN = 'ваш токен'
```

# fetch_spacex_last_launch

Программа скачивает в папку images фото с космического запуска компании SpaceX по указанному ID. 

Если ID не указан, программа скачивает фото с последнего запуска SpaceX.

Программа принимает необязательный параметр --id, который указывает на ID запуска.

### Пример запуска программы:
```python
python3.9 fetch_spacex_last_launch.py --id 5eb87d47ffd86e000604b38a
```
### Результат запуска:
```
В папку images/ скачиваются фото с космического запуска по ID - 5eb87d47ffd86e000604b38a
```

# get_nasa_image

Программа скачивает в папку images указанное количество фото дня с сайта NASA.


Для работы программы потребуется токен с сайта NASA.
Заполните форму по ссылке https://api.nasa.gov/#apod и токен будет отправлен Вам на электронную почту.

Вы можете изменить кол-во скачиваемых фото, поменяв значение переменной **count_of_images**

### Пример запуска программы:
```python
python3.9 get_nasa_image.py
```
### Результат запуска:
```
В папку images/ скачиваются 30 фото дня с портала NASA
```

# one_photo_post

Программа постит одно фото в телеграм-канал.

Для работы программы у вас должен быть зарегистрирован телеграм-бот и получен токен.

Вы можете выбрать группу для постинга, указав индентификатор в параметре *chat_id*.

```
bot.send_photo(*chat_id*="-1002904882671", *photo*=url)
```
Чтобы указать ссылку на фото для загрузки в телеграм-канал следует использовать параметр *--u* при запуске программы

### Пример запуска программы:
```python
python3.9 one_photo_post.py --u http://www.test.com/example.jpg
```
### Результат запуска:
```
В телеграм-канал загрузится картинка example.
```
# posting_bot

Программа заружает фото из папки *images/* в случайном порядке в телеграм-канал с определенной периодичностью.


Для работы программы у вас должен быть зарегистрирован телеграм-бот и получен токен.

Вы можете выбрать группу для постинга, указав индентификатор в параметре *chat_id*.

```
bot.send_photo(*chat_id*="-1002904882671", photo=open("images/" + file, "rb"))
```
Программа делает один пост раз в 4 часа. 
Чтобы изменить периодичность нужно запустить программу с параметром --t и указать желаемую периодичность в часах.

### Пример запуска программы:
```python
python3.9 posting_bot.py --t 2
```
### Результат запуска:
```
В телеграм-канал каждые 2 часа будет загружаться картинка из папки *images/*
```

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
